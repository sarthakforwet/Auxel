<!DOCTYPE html>
<html>
<head>
    <title>Real-time Voice Input</title>
    <script>
        // Function to call the API
        function callAPI() {
          // Replace the URL with your actual API endpoint
          const url = 'http://127.0.0.1:5000/speech';
      
          // Replace the requestPayload with the data you want to send in the request body
          const requestPayload = {
            key1: 'value1',
            key2: 'value2'
          };
      
          fetch(url, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(requestPayload)
          })
            .then(response => console.log('ehy'))
            .then(data => {
              const textLabel = document.getElementById('text-label');
              textLabel.textContent = data.text;
            })
            .catch(error => {
              // Handle any errors that occur during the API call
              console.error('Error:', error);
            });
        }
      
        // Event listener for key press
        document.addEventListener('keydown', function(event) {
          
          //console.log({event})
          // Replace 'Enter' with the desired key you want to trigger the API call
          if (event.code === 'Enter'){
            //alert('Enter is pressed!');
            callAPI(); // Call the API function
          }
        });
        </script>
      
</head>
<body>
    <h1>Real-time Voice Input</h1>
    <!-- <form action="/speech" method="POST" enctype="multipart/form-data">
        <input type="file" name="audio" accept="audio/*">
        <input type="submit" value="Submit">
    </form>-->
    <h3> Press Enter </h3>
</body>
</html>
